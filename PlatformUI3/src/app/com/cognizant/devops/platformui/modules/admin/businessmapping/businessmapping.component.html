<!--
 *********************************************************************************
 * Copyright 2017 Cognizant Technology Solutions
 * 
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not
 * use this file except in compliance with the License.  You may obtain a copy
 * of the License at
 * 
 *   http://www.apache.org/licenses/LICENSE-2.0
 * 
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.  See the
 * License for the specific language governing permissions and limitations under
 * the License.
 *******************************************************************************
-->
<div class="pageCss">
  <div layout layout-align="left" class="titleStyle">
    <div>Configuration | Business Mapping
      <a class="greenTitleTxt"> </a>
    </div>
  </div>

  <div class="orangeStripCss"></div>

  <div layout layout-align="left" class="sectionHeadingStyle">
    <div layout> &nbsp;Tool Labels
      <span class="sectionSubHeading"> ( Add / Change Status / Edit / Delete labels for Tool ) </span>
    </div>
  </div>
  <div class="arrange-horizontally">
    <label [style.height.px]="20" class="mainText"> Select Tool </label>
    <mat-select [(ngModel)]="selectedAgent" [style.height.px]="20" [style.width.%]="21" (ngModelChange)="loadAgentProperties(selectedAgent)"
      name="selectedAgent" required placeholder="Select Tool 1" [ngClass]="{  'input-disabled' :false  ,  'form-control': true}">
      <mat-option *ngFor="let data of agentDataSource" [value]="data" style="color:#0033A0">
        {{data.toolName}}
      </mat-option>
      </mat-select>
      <h2 class="labelInfo">(Please select Tool to see tool properties)</h2>
  </div>

  <div>
    <div class="btnAlign">
      <button mat-icon-button (click)="editData()" [disabled]="isEditData">
        <mat-icon title="Edit" class="mat-icon material-icons"> <!--usingBtnCss usingBtnCss-->
          edit
        </mat-icon>
      </button>
      <button mat-icon-button (click)="saveData()" [disabled]="!isEditData">
        <mat-icon title="Save" class="mat-icon material-icons">
          save
        </mat-icon>
      </button>
    </div>
    <table mat-table [dataSource]="agentPropertyDataSource" class="mat-elevation-z8">


      <ng-container matColumnDef="checkbox">
        <th mat-header-cell *matHeaderCellDef class="tableHeaderCss" style="width:10% !important">
          <mat-checkbox (change)="$event ? masterToggle() : null" [checked]="selection.hasValue() && isAllSelected()" [indeterminate]="selection.hasValue() && !isAllSelected()">
          </mat-checkbox>
        </th>
        <td mat-cell *matCellDef="let row" style="width:10% !important">
          <mat-checkbox (click)="$event.stopPropagation()" (change)="$event ? selection.toggle(row) : null" [checked]="selection.isSelected(row)">
          </mat-checkbox>
        </td>
      </ng-container>

      <!--Properties  Column -->
      <ng-container matColumnDef="toolproperties">
        <th mat-header-cell *matHeaderCellDef class="tableHeaderCss"> Tool Properties</th>
        <td mat-cell *matCellDef="let element"> {{element.key}} </td>
      </ng-container>

      <!-- Value Column -->
      <ng-container matColumnDef="propertyValue">
        <th mat-header-cell *matHeaderCellDef class="tableHeaderCss"> Property Value </th>
        <td mat-cell *matCellDef="let element">
          <input [(ngModel)]="element.value" name="{{element.value}}" [ngClass]="{  'input-disabled' : !isEditData ,  'form-control': isEditData}"
            required>
        </td>
      </ng-container>

      <!-- Label Column -->
      <ng-container matColumnDef="propertyLabel">
        <th mat-header-cell *matHeaderCellDef class="tableHeaderCss"> Property Label </th>
        <td mat-cell *matCellDef="let element;let i=index" [attr.rowspan]="getRowSpan('label',i)" [style.display]="getRowSpan('label', i) ? '' : 'none'">

          <!-- [attr.rowspan]="rowspan2" [style.display]="rowspan2 ? '' : 'none'"  aa -->
          <input [(ngModel)]="label" name="label" [ngClass]="{  'input-disabled-label' : !isEditData ,  'form-control-label': isEditData}"
            required>
        </td>
      </ng-container>


      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;">
      </tr>
    </table>
  </div>