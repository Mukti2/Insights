<!--
*******************************************************************************
 * Copyright 2017 Cognizant Technology Solutions
 * 
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not
 * use this file except in compliance with the License.  You may obtain a copy
 * of the License at
 * 
 *   http://www.apache.org/licenses/LICENSE-2.0
 * 
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.  See the
 * License for the specific language governing permissions and limitations under
 * the License.
 ****************************************************************************** -->

<div class="container">
  <mat-sidenav-container class="sidenav-container" autosize fullscreen>
    <mat-sidenav #sidenav class="sidenav" [style.height.%]="100" [style.width.%]="isExpanded ? leftNavWidthInPer:leftNavMinWidthInPer"
      height="50%" mode="side" opened="true" autosize="true">
      <div class="logoSetting">
        <table style="border-spacing:2px; height:100%; width: 100%">
          <tr *ngIf="isExpanded">
            <td>
              <img mat-card-image align="left" height="49px" src='icons/svg/homePage/Insights.png' alt="Cognizant Insights log" style="margin:auto;display:table-row;margin-right:auto;margin-left:auto;"
              />
            </td>
            <td>
              <mat-icon (click)="isExpanded = !isExpanded" class="material-icons-menu">menu</mat-icon>
            </td>
          </tr>
          <tr *ngIf="!isExpanded" style="margin:auto;display:table-row;margin-right:auto;margin-left:30px;height:100%;">
            <mat-icon (click)="isExpanded = !isExpanded" class="material-icons-menu">menu</mat-icon>
          </tr>
        </table>
      </div>
      <div class="headingPage" [style.width.px]="leftNavWidthpx">
        <table style="margin-left: 16px; height:100%; width: 100%">
          <tr class="mat-line-heading" *ngIf="isExpanded">
            <td>
              <span title="{{userName}}"> Welcome: {{userName}} </span>
            </td>
          </tr>
          <tr class="mat-line-heading" *ngIf="isExpanded">
            <td class="arrange-horizontally-roledetail" [style.width.px]="leftNavWidthpx">
              Role: <span class="roleName" [attr.title]="userRole + ' (' + selectedOrg + ')'"> {{userRole}}  <span class="orgNameInRole"> ({{selectedOrg}}) </span></span>
            </td>
          </tr>
          <tr *ngIf="!isExpanded">
            <img mat-card-image class="feviconIcon" height="40px" align="center" src='icons/svg/homePage/Insights_Fevicon.svg' />
          </tr>
        </table>
      </div>

      <!--<mat-divider></mat-divider>-->

      <div class="menu">
        <table class="navtable">
          <tbody>
            <tr>
              <mat-nav-list>
                <app-menu-list-item *ngFor="let item of getNavItemsByFilter()" [item]="item" [depth]="depth" [isExpanded]="isExpanded" [selectedOrg]="selectedOrg"
                  [showAdminTab]="showAdminTab" [leftNavWidthpx]="leftNavWidthpx"></app-menu-list-item>
              </mat-nav-list>
            </tr>
        </table>
      </div>
      <mat-divider></mat-divider>
      <div class="bottomnavg">
        <mat-nav-list>
          <app-menu-list-item *ngFor="let itemBottom of navItemsBottom" [item]="itemBottom" [depth]="depth" [isExpanded]="isExpanded"
            [selectedOrg]="selectedOrg" [showAdminTab]="showAdminTab"></app-menu-list-item>
        </mat-nav-list>
      </div>
      </mat-sidenav>
      <mat-sidenav-content class="mat-drawer-content">
        <mat-toolbar *ngIf="isToolbarDisplay">
          <span class="fill-remaining-space"></span>
          <img height="31px" width="469px" align="right" src='icons/svg/homePage/PoweredBy.png' alt="Powered By Cognizant OneDevOps | Insights"
            style="margin:auto;" />
        </mat-toolbar>
        <div>
          <router-outlet></router-outlet>
          <app-landing-page *ngIf="displayLandingPage" [isExpanded]="isExpanded"></app-landing-page>
        </div>
      </mat-sidenav-content>
  </mat-sidenav-container>
</div>